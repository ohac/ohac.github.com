<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<title>OhaC's Creative Studio</title>
<link href="/css/cross/cross.css" type="text/css" rel="stylesheet" />
</head>
<body>
<h1><a name="label-0" id="label-0">Javaインストーラ</a></h1><!-- RDLabel: "Javaインストーラ" -->
<h2><a name="label-1" id="label-1">ダウンロード</a></h2><!-- RDLabel: "ダウンロード" -->
<ul>
<li>実行ファイルのダウンロード <a href="install/jinstall-0.01.lzh">jinstall-0.01.lzh</a></li>
<li>ソースコードのダウンロード <a href="install/jinstall-src-0.01.lzh">jinstall-src-0.01.lzh</a></li>
</ul>
<h2><a name="label-2" id="label-2">Javaアプリケーションの配布をどうするか</a></h2><!-- RDLabel: "Javaアプリケーションの配布をどうするか" -->
<p>Javaでソフト開発したのは良いが、Windowsユーザーに簡単に使ってもらうためにはインストーラが必須と考える。しかし、せっかくなのでインストーラもJavaで開発したいものだ。そこでこのプロジェクトを発足させた。と言っても私一人で作るのであるが。</p>
<h2><a name="label-3" id="label-3">レジストリとショートカット</a></h2><!-- RDLabel: "レジストリとショートカット" -->
<p>まずはWindows特有のJavaのクラスライブラリにないものをネイティブメソッドを使って、扱えるようにすることが必要である。その中でもレジストリとショートカットは必須であろう。Program Filesのパス調査や、スタートメニュー・デスクトップへのショートカット作成がインストーラには必要だからである。</p>
<h2><a name="label-4" id="label-4">ネイティブメソッドのコンパイラ</a></h2><!-- RDLabel: "ネイティブメソッドのコンパイラ" -->
<p>コンパイラにはできるだけフリーのツールを使いたいものだ。そこで候補にあがったのがcygwinのgccとBorland Cである。gccでは残念ながらjni.hなどがうまくコンパイルできずに断念してしまった。Borland Cの方は簡単にコンパイルできた。手順の概要を簡単に説明しよう。</p>
<ul>
<li>Borland Cのインストール</li>
<li>PATHにBorland Cのインストール先のbinフォルダを追加</li>
<li>readme.txtを参考にbinフォルダにbcc32.cfg,ilink32.cfgを作成</li>
<li>bcc32.cfgの-Iオプションにjdkのinclude及びinclude/win32を追加</li>
</ul>
<h2><a name="label-5" id="label-5">今後</a></h2><!-- RDLabel: "今後" -->
<p>まだインストーラにはほど遠いですが、がんばって完成させたいと思います。なお、このクラスの作成には秀インストールのソースコードを参考にさせていただきました。ソースコードを提供していただきありがとうございました。</p>
<h2><a name="label-6" id="label-6">関係リンク</a></h2><!-- RDLabel: "関係リンク" -->
<ul>
<li><a href="http://hidemaru.xaxon.co.jp/">秀まるおのホームページ</a> (リンク切れ)</li>
<li><a href="http://www.geocities.co.jp/AnimeComic/1098/index.html">hanawa's home page</a></li>
<li><a href="http://www.borland.com/bcppbuilder/freecompiler/">Borland C++ Compiler 5.5</a></li>
</ul>

</body>
</html>
